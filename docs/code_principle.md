# 设计原则

> 工作时间长了，很多的时候，**道** 比 **术** 更为重要。

## 原则1: 封装变化

!!! success "原则1"
    找出应用中可能需要变化之处，把他们独立出来，不要和那些不需要变化的代码混在一起。

## 原则2: 针对接口编程

!!! success "原则2"
    针对接口编程，而不是针对实现编程。

## 原则3: 组合优于继承

!!! success "原则3"
    多用组合，少用继承。 使用组合建立系统有很大的弹性。

## 原则4: 目标松耦合

!!! success "原则4"
    松耦合的设计之所以能够让我们建立有弹性的OO系统，能够对应变化，是因为对象之间的相互依赖降到了最低。

## 原则5: 对扩展开放，对修改关闭

!!! success "原则5"
    目标就是允许类容易扩展，在不修改代码的情况下，就能搭配新的行为。
    
!!! fail "注意"
    在选择需要被扩展的代码部分时要小心。每个地方都采用“开放-关闭原则”，是一种浪费，也没有必要，还会导致代码变得复杂而且难以理解。

## 原则6: 依赖倒置

!!! success "原则6"
    要依赖抽象，不要依赖具体的类。不能让高层组件依赖底层组件，而且，不管是高层组件还是底层组件，两者都应该依赖抽象。

## 原则7: 最少知识原则

!!! success "原则7"
    最少知识原则，只和你的密友交谈。不要让太多的类耦合在一起，免得修改系统中的一部分，会影响到其他部分。如果许多的类相互依赖，那么
    这个系统就会变成一个易碎的系统，它需要活许多的时间来维护，也会因为太复杂无法让人理解。

## 原则8: 好莱坞原则

!!! success "原则8"
    别调用我，我会调用你的。好莱坞原则可以给出一种防止“依赖腐败”的方法，允许底层组件将自己hook到系统上，但是高层组件
    将会决定什么时候怎样使用这些底层组件。

## 原则9: 单一职责

!!! success "原则9"
    一个类应该只有一个引起变化的原因。